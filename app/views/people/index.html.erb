
<div class="container">
  <form id='people-search'>
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" class="form-control" id="name" placeholder="Name">
      <input type="submit" class="btn btn-primary" value="Search">
    </div>
  </form>

  <div class="card-columns">
  </div>

  
</div>

<script>
  // on page load, fetch results async from /api/people as HTML and update the DOM with the results
  document.addEventListener("DOMContentLoaded", function(event) {
    const peopleContainer = document.querySelector('.card-columns');  
    
    fetch('api/people').then(response => response.text()).then(data => {
      peopleContainer.innerHTML = data;
    });
  });

  // on form submit, fetch results async from /people.json and update the DOM with the results

  const form = document.querySelector('#people-search');
  form.addEventListener('submit', function(event) {
    event.preventDefault();
    const name = document.querySelector('#name').value;
    const peopleContainer = document.querySelector('.card-columns');  
    
    fetch(`api/people?name=${name}`).then(response => response.text()).then(data => {
      peopleContainer.innerHTML = data;
    });
  });

</script>
